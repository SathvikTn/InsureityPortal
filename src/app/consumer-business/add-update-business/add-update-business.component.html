<div class="col-11 row mt-5" *ngIf="router.url === '/addBusiness/BusinessId/0'">
    <div class="col-3 offset-5">
        <form #businessrForm="ngForm" (ngSubmit)="addBusiness(businessrForm.value)">
            <button type="button" routerLink ='/consumerBusiness'>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
                  </svg>
                <i class="bi-chevron-double-left">
            </i></button>
            <h2 class="input-group mb-3">Add Business Details</h2>
            <hr>
            
            <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Business Name</span>
                <input type="text" #businessName = "ngModel" name="businessName" class="form-control" 
                aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                [(ngModel)]="businessModel.businessName" [ngClass]="{ 'is-invalid': businessrForm.submitted && businessName.invalid }" required>
                <div class="invalid-feedback" *ngIf="businessrForm.submitted && businessName.invalid">
                    <p class="offset-6" *ngIf="businessName.errors?.required">Business Name is required</p>
                </div>
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Business Type</span>
                <input type="text" #businessType = "ngModel" name="businessType" class="form-control" 
                aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                [(ngModel)]="businessModel.businessType" [ngClass]="{ 'is-invalid': businessrForm.submitted && businessType.invalid }" required>
                <div class="invalid-feedback" *ngIf="businessrForm.submitted && businessType.invalid">
                    <p class="offset-6" *ngIf="businessType.errors?.required">Business Type is required</p>
                </div>
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Total Employees</span>
                <input type="number" #totalEmployees ="ngModel" name="totalEmployees" class="form-control" 
                aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                [(ngModel)]="businessModel.totalEmployees" [ngClass]="{ 'is-invalid': businessrForm.submitted && totalEmployees.invalid }" required>
                <div class="invalid-feedback" *ngIf="businessrForm.submitted && totalEmployees.invalid">
                    <p class="offset-6" *ngIf="totalEmployees.errors?.required">Total Employee is required</p>
                </div>
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Business Master Id</span>
                
                <input type="number" #businessMasterId ="ngModel" name="businessMasterId" class="form-control" 
                aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                [(ngModel)]="businessModel.businessMasterId" [ngClass]="{ 'is-invalid': businessrForm.submitted && businessMasterId.invalid }" required>
                <div class="invalid-feedback" *ngIf="businessrForm.submitted && businessMasterId.invalid">
                    <p class="offset-6" *ngIf="businessMasterId.errors?.required">Business Master Id is required</p>
                </div>
                <button type="button" class="input-group-text" id="inputGroup-sizing-default" 
                data-bs-toggle="modal" data-bs-target="#myModalupdate">R</button>
            </div>

            <!-- Modal Content -->
            <div class="modal fade" id="myModalupdate" role="dialog">
                <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                    <h4 class="modal-title">Business Master Id Reference</h4>
                    </div>
                    <div class="modal-body">
                        <table class="table">
                            <thead>
                                <!-- //TODO Create new Model for -->
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Business Value</th>
                                <th scope="col">Busienss Turn Over</th>
                                <th scope="col">Capital Invest</th>
                            </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor ="let data of businessMasterList">
                                    <td scope="row">{{data.businessMasterId}}</td>
                                    <td scope="row">{{data.businessValue}}</td>
                                    <td scope="row">{{data.businessTurnOver}}</td>
                                    <td scope="row">{{data.capitalInvest}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
                </div>
            </div>
  

            <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Consumer Id</span>
                <input type="number" #consumerId ="ngModel" name="consumerId" class="form-control" 
                aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                [(ngModel)]="businessModel.consumerId" [ngClass]="{ 'is-invalid': businessrForm.submitted && consumerId.invalid }" required>
                <div class="invalid-feedback" *ngIf="businessrForm.submitted && businessMasterId.invalid">
                    <p class="offset-6" *ngIf="consumerId.errors?.required">Consumer Id is required</p>
                </div>
                <button type="button" class="input-group-text" id="inputGroup-sizing-default" 
                data-bs-toggle="modal" data-bs-target="#myModal1">R</button>
            </div>


            <div class="modal fade" id="myModal1" role="dialog">
                <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                    <h4 class="modal-title">Consumer Id Reference</h4>
                    </div>
                    <div class="modal-body">
                        <table class="table">
                            <thead>
                                <!-- //TODO -->
                            <tr>
                                <th scope="col">Consumer Id</th>
                                <th scope="col">Consumer Name</th>
                            </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor ="let data of ConsumerList">
                                    <td scope="row">{{data.consumerId}}</td>
                                    <td scope="row">{{data.consumerName}}</td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
                </div>
            </div>


            <br>
            <input type="submit" class="btn btn-outline-success" value="Create">
            <input type="reset" class="btn btn-outline-dark" style="float: right;" value="Reset">
        </form>
        <div class="alert alert-success" *ngIf="create_message">{{create_message}}</div>
        <div class="alert alert-danger mt-2" *ngIf ="errorMessage">Please Check For Business Master Id or Consumer Id</div>
    </div>
    </div>







    <div class="col-11 row mt-5" *ngIf="router.url === '/updateBusiness/'">
        <div class="col-3 offset-5">
            <form #businessrForm="ngForm" (ngSubmit)="updateBusiness(businessrForm.value)">
                <h3 class="input-group mb-3">Update Business</h3>
                
                <div class="input-group mb-3">
                    <input type="number" #businessId="ngModel"  name="businessId" class="form-control" 
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                    [(ngModel)]="updatedbusinessData.business.businessId" [ngClass]="{ 'is-invalid': businessrForm.submitted && businessId.invalid }" required
                    hidden>
                </div>
                
                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup-sizing-default">Business Name</span>
                    <input type="text" #businessName = "ngModel" name="businessName" class="form-control" 
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                    [(ngModel)]="updatedbusinessData.business.businessName" value="businessData.businessName" [ngClass]="{ 'is-invalid': businessrForm.submitted && businessName.invalid }" required>
                    <div class="invalid-feedback" *ngIf="businessrForm.submitted && businessName.invalid">
                        <p class="offset-7" *ngIf="businessName.errors?.required">Business Name is required</p>
                    </div>
                </div>
    
                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup-sizing-default">Business Type</span>
                    <input type="text" #businessType = "ngModel" name="businessType" class="form-control" 
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                    [(ngModel)]="updatedbusinessData.business.businessType" [ngClass]="{ 'is-invalid': businessrForm.submitted && businessType.invalid }" required>
                    <div class="invalid-feedback" *ngIf="businessrForm.submitted && businessType.invalid">
                        <p class="offset-7" *ngIf="businessType.errors?.required">Business Type is required</p>
                    </div>
                </div>
    
                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup-sizing-default">Total Employees</span>
                    <input type="number" #totalEmployees ="ngModel" name="totalEmployees" class="form-control" 
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                    [(ngModel)]="updatedbusinessData.business.totalEmployees" [ngClass]="{ 'is-invalid': businessrForm.submitted && totalEmployees.invalid }" required>
                    <div class="invalid-feedback" *ngIf="businessrForm.submitted && totalEmployees.invalid">
                        <p class="offset-7" *ngIf="totalEmployees.errors?.required">Total Employees is required</p>
                    </div>
                </div>
    
                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup-sizing-default">Business Master Id</span>
                    <input type="number" #businessMasterId ="ngModel" name="businessMasterId" class="form-control" 
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                    [(ngModel)]="updatedbusinessData.business.businessMasterId" [ngClass]="{ 'is-invalid': businessrForm.submitted && businessMasterId.invalid }" required>
                    <div class="invalid-feedback" *ngIf="businessrForm.submitted && businessMasterId.invalid">
                        <p class="offset-7" *ngIf="businessMasterId.errors?.required">Business Master Id is required</p>
                    </div>
                    <button type="button" class="input-group-text" id="inputGroup-sizing-default" 
                    data-bs-toggle="modal" data-bs-target="#myModalupdate">R</button>
                </div>
    
                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup-sizing-default">Consumer Id</span>
                    <input type="number" #consumerId ="ngModel" name="consumerId" class="form-control" 
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" 
                    [(ngModel)]="updatedbusinessData.business.consumerId" [ngClass]="{ 'is-invalid': businessrForm.submitted && consumerId.invalid }" required>
                    <div class="invalid-feedback" *ngIf="businessrForm.submitted && businessMasterId.invalid">
                        <p class="offset-7" *ngIf="consumerId.errors?.required">Consumer Id is required</p>
                    </div>
                    <button type="button" class="input-group-text" id="inputGroup-sizing-default" 
                    data-bs-toggle="modal" data-bs-target="#myModalupdate">R</button>
                </div>
    
                <!-- Modal Content -->
                <div class="modal fade" id="myModalupdate" role="dialog">
                    <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Business Master Id Reference</h4>
                        </div>
                        <div class="modal-body">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">Id</th>
                                        <th scope="col">Business Value</th>
                                        <th scope="col">Busienss Turn Over</th>
                                        <th scope="col">Capital Invest</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor ="let data of businessMasterList">
                                            <td scope="row">{{data.businessMasterId}}</td>
                                            <td scope="row">{{data.businessValue}}</td>
                                            <td scope="row">{{data.businessTurnOver}}</td>
                                            <td scope="row">{{data.capitalInvest}}</td>
                                        </tr>
                                    </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                    </div>
                </div>
                <br>
                <input type="submit" class="btn btn-outline-success" value="Update">
                <input type="reset" class="btn btn-outline-dark" style="float: right;" value="Reset">
            </form>
            <div class="alert alert-success mt-2" *ngIf="update_message">{{update_message}}</div>
            <div class="alert alert-danger mt-2" *ngIf ="errorMessage">Please Check For Business Master Id or Consumer Id</div>
        </div>
        </div>
